<!DOCTYPE html>
<!-- saved from url=(0027)https://mike.id/blog/matrix -->
<html lang="en-gb" dark=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
		<meta name="color-scheme" content="dark light">
		<meta name="theme-color" content="#272822">
		<link rel="alternate icon" href="https://mike.id/favicon.ico" sizes="any">
		<link rel="icon" href="https://mike.id/favicon.svg" type="image/svg+xml">
		<link rel="apple-touch-icon" href="https://mike.id/favicon.svg">
		<link rel="preconnect" href="https://fonts.gstatic.com/">
		<link rel="preload" href="https://mike.id/fonts/wotfard/wotfard-light-webfont.woff2" as="font" type="font/woff2" crossorigin="">
		<link rel="preload" href="https://mike.id/fonts/wotfard/wotfard-medium-webfont.woff2" as="font" type="font/woff2" crossorigin="">
		<link rel="preload" href="https://mike.id/fonts/wotfard/wotfard-semibold-webfont.woff2" as="font" type="font/woff2" crossorigin="">
		<script async="" data-id="101450192" src="./Matrix digital rain - Mike Simmonds_files/js"></script>
		<script>
			window._systemPrefersDarkQuery = window.matchMedia('(prefers-color-scheme: dark)');

			let userPrefersDark = window.localStorage.getItem('theme');

			try {
				userPrefersDark = JSON.parse(userPrefersDark);
			} catch (error) {
				window.localStorage.removeItem('theme');
				userPrefersDark = null;
			}

			window._toggleTheme = (enable) => {
				document.documentElement.toggleAttribute('dark', enable);
			};

			window._toggleTheme(
				userPrefersDark === null ? window._systemPrefersDarkQuery.matches : userPrefersDark
			);
		</script>

		
		<link href="./Matrix digital rain - Mike Simmonds_files/0.DSbN4mOY.css" rel="stylesheet">
		<link href="./Matrix digital rain - Mike Simmonds_files/2.DdYbRhZr.css" rel="stylesheet">
		<link href="./Matrix digital rain - Mike Simmonds_files/Nav.BNbeh05-.css" rel="stylesheet">
		<link href="./Matrix digital rain - Mike Simmonds_files/Icon.eVij9Wos.css" rel="stylesheet">
		<link href="./Matrix digital rain - Mike Simmonds_files/Link.BJNggZ1A.css" rel="stylesheet">
		<link href="./Matrix digital rain - Mike Simmonds_files/10.QvOjEVbn.css" rel="stylesheet">
		<link href="./Matrix digital rain - Mike Simmonds_files/MarkdownPage.DYCYPGY7.css" rel="stylesheet">
		<link href="./Matrix digital rain - Mike Simmonds_files/Checkbox.Dn3flxfr.css" rel="stylesheet">
		<link href="./Matrix digital rain - Mike Simmonds_files/index.C7QkFvBk.css" rel="stylesheet"><title>Matrix digital rain - Mike Simmonds</title><script src="./Matrix digital rain - Mike Simmonds_files/js(1)" data-svelte-h="svelte-zaz8xe" async=""></script> <script data-svelte-h="svelte-1upo43">window.dataLayer = window.dataLayer || [];

			function gtag() {
				dataLayer.push(arguments);
			}

			gtag('js', new Date());
			gtag('config', 'G-N9SY99BB39');</script><meta name="description" content="Using canvas to recreate the iconic raining code, as seen in the Matrix films."><meta property="og:description" content="Using canvas to recreate the iconic raining code, as seen in the Matrix films."><meta property="og:title" content="Matrix digital rain - Mike Simmonds"><meta property="og:type" content="article"><meta property="og:image" content="/preview/matrix.jpg"><meta property="og:article:published_time" content="2021-04-19T04:06:50-04:00"><meta property="og:article:author" content="Mike Simmonds">
	<link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/nodes/0.C0PN8-Jo.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/scheduler.BM657GGL.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/index.YY6l6UFR.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/globals.D0QH3NT1.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/formatTitle.17JzSiMw.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/entry.CmjsFbj3.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/index.bMJcdniZ.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/control.CYgJF_JY.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/nodes/1.tK4n3Uug.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/Link.DSfNO46o.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/spread.CgU5AtxT.js"><link rel="stylesheet" href="./Matrix digital rain - Mike Simmonds_files/1.bE3fOpo6.css"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/nodes/2.DxLRzgKf.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/Nav.C8C3cXXc.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/each.D6YF6ztN.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/Icon.BnNeJSbi.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/socials.DYfDTcoR.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/darkMode.DiMPzwu6.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/track.DoJLvD2h.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/nodes/10.geUFqHdB.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/MarkdownPage.BGNv65Ld.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/fixWidows.CIsEC9eM.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/Checkbox.aRTJK5mC.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/index.D1fO0ku7.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/maths.blIJJMjR.js"><link rel="modulepreload" as="script" crossorigin="" href="https://mike.id/_app/immutable/chunks/getCssVar.SELCh26a.js"></head>
	<body data-sveltekit-preload-data="hover" data-new-gr-c-s-check-loaded="14.1190.0" data-gr-ext-installed="">
		<div style="display: contents"> <div class="layout svelte-1nuu8s1"><header class="grid full svelte-1awg4bz"><div class="main inner svelte-1awg4bz"><div class="home svelte-1awg4bz" data-svelte-h="svelte-6nmun7"><a class="name svelte-1awg4bz" href="https://mike.id/">Mike Simmonds</a></div> <nav class="nav svelte-1awg4bz"><ul class="nav svelte-1sa2ho4"><li><a href="https://mike.id/blog" class="svelte-1ypxhxq"> <span class="label svelte-1ypxhxq">Blog</span></a></li> <li><a href="https://mike.id/snippets" class="svelte-1ypxhxq"> <span class="label svelte-1ypxhxq">Snippets</span></a></li> <li><a href="https://mike.id/uses" class="svelte-1ypxhxq"> <span class="label svelte-1ypxhxq">Uses</span></a></li> <li><a href="https://mike.id/about" class="svelte-1ypxhxq"> <span class="label svelte-1ypxhxq">About</span></a></li></ul></nav> <div class="theme svelte-1awg4bz"><label for="pref" class="svelte-1awg4bz" data-svelte-h="svelte-1ggmxbm">Theme: </label><div class="svelte-v1rkfp"><select id="pref" class="svelte-v1rkfp"><option data-svelte-h="svelte-133mpsi" value="">System</option> <hr> <option data-svelte-h="svelte-1a1w9ey" value="true">Dark</option> <option data-svelte-h="svelte-1kh10nb" value="false">Light</option></select> <span class="svelte-v1rkfp"><svg aria-hidden="true" class="icon svelte-1swzgij" role="img" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M7 10l5 5l5-5H7z" fill="currentColor"></path></svg></span></div></div></div></header> <main class="grid svelte-1nuu8s1"> <header class="svelte-1adz0qo"><div class="head svelte-1adz0qo"><div class="headContent svelte-1adz0qo"><h1 class="title svelte-1adz0qo">Matrix digital rain</h1> <p class="description svelte-1adz0qo">Using canvas to recreate the iconic raining code, as seen in the Matrix&nbsp;films.</p></div> </div> <ul class="meta svelte-1adz0qo"><li><strong>Published:</strong> <time datetime="2021-04-19T04:06:50-04:00">19 April 2021</time> </li><li><strong>Tags:</strong> Software engineering, Visualisation </li><li><strong>Reading time:</strong> less than a minute </li></ul> </header> <div class="full grid body svelte-1adz0qo"><div class="full wrapper svelte-1a8ga7d"><canvas height="900" width="1800" class="svelte-jiyasw"><p class="svelte-jiyasw" data-svelte-h="svelte-zi8pho">You'll need JavaScript enabled to run this üßë‚Äçüíª.</p></canvas>  </div> <div class="controls svelte-z2zzj4"><label class="svelte-8kgtmv"><input type="checkbox" class="svelte-8kgtmv"> <span class="outer svelte-8kgtmv"><svg aria-hidden="true" class="icon svelte-1swzgij" role="img" viewBox="0 0 24 24"><path fill="currentColor" d="M21 7L9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7z"></path></svg></span> <span>Show FPS </span></label> <label class="svelte-8kgtmv"><input type="checkbox" class="svelte-8kgtmv"> <span class="outer svelte-8kgtmv"><svg aria-hidden="true" class="icon svelte-1swzgij" role="img" viewBox="0 0 24 24"><path fill="currentColor" d="M21 7L9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7z"></path></svg></span> <span>Use shadow <span class="hint svelte-8kgtmv">May not perform well in some browsers!</span></span></label></div> <h2 id="research" data-svelte-h="svelte-uo81ah"><a href="https://mike.id/blog/matrix#research">Research</a></h2> <p>After a little searching, it appeared <a href="https://en.wikipedia.org/wiki/Katakana_(Unicode_block)" target="_blank" rel="nofollow" class="svelte-1ypxhxq"> <span class="label svelte-1ypxhxq">Katakana</span></a> characters mixed with some single digit numbers closely matched the characters used in the film.</p> <p data-svelte-h="svelte-t1rna2">The Katakana characters start in unicode from <code>U+30a0</code> for 96 characters.</p> <h2 id="performance" data-svelte-h="svelte-ki9006"><a href="https://mike.id/blog/matrix#performance">Performance</a></h2> <p data-svelte-h="svelte-15jtziz">On my MacBook Pro, the 50 columns of characters render at a steady 60fps. When I tried kicking it up to 100 columns, things got a little jumpy, dropping to about 20fps. I‚Äôm wondering if some sort of quad-tree type structure could be used to reduce the number of operations/renders needed.</p></div></main> <footer class="grid"><div class="main inner svelte-qlh7i9"><p>¬© 2024 Mike Simmonds</p> <ul class="items svelte-4mcfx6"><li class="item svelte-4mcfx6"><a href="http://lnkd.in/2T4KbK" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" class="withIcon svelte-1ypxhxq"><svg aria-hidden="true" class="icon svelte-1swzgij" role="img" viewBox="0 0 24 24"><path fill="currentColor" d="M6.94 5a2 2 0 1 1-4-.002a2 2 0 0 1 4 .002M7 8.48H3V21h4zm6.32 0H9.34V21h3.94v-6.57c0-3.66 4.77-4 4.77 0V21H22v-7.93c0-6.17-7.06-5.94-8.72-2.91z"></path></svg> </a> </li><li class="item svelte-4mcfx6"><a href="http://github.com/simmo" target="_blank" rel="noopener noreferrer" aria-label="GitHub" class="withIcon svelte-1ypxhxq"><svg aria-hidden="true" class="icon svelte-1swzgij" role="img" viewBox="0 0 24 24"><path fill="currentColor" d="M5.884 18.653c-.3-.2-.558-.455-.86-.816a50.59 50.59 0 0 1-.466-.579c-.463-.575-.755-.841-1.056-.95a1 1 0 1 1 .675-1.882c.752.27 1.261.735 1.947 1.588c-.094-.117.34.427.433.539c.19.227.33.365.44.438c.204.137.588.196 1.15.14c.024-.382.094-.753.202-1.095c-2.968-.726-4.648-2.64-4.648-6.396c0-1.24.37-2.356 1.058-3.292c-.218-.894-.185-1.975.302-3.192a1 1 0 0 1 .63-.582c.081-.024.127-.035.208-.047c.803-.124 1.937.17 3.415 1.096a11.73 11.73 0 0 1 2.687-.308c.912 0 1.819.104 2.684.308c1.477-.933 2.614-1.227 3.422-1.096c.085.013.158.03.218.05a1 1 0 0 1 .616.58c.487 1.216.52 2.296.302 3.19c.691.936 1.058 2.045 1.058 3.293c0 3.757-1.674 5.665-4.642 6.392c.125.415.19.878.19 1.38c0 .665-.002 1.299-.007 2.01c0 .19-.002.394-.005.706a1 1 0 0 1-.018 1.958c-1.14.227-1.984-.532-1.984-1.525l.002-.447l.005-.705c.005-.707.008-1.337.008-1.997c0-.697-.184-1.152-.426-1.361c-.661-.57-.326-1.654.541-1.751c2.966-.333 4.336-1.482 4.336-4.66c0-.955-.312-1.744-.913-2.404A1 1 0 0 1 17.2 6.19c.166-.414.236-.957.095-1.614l-.01.003c-.491.139-1.11.44-1.858.949a1 1 0 0 1-.833.135a9.626 9.626 0 0 0-2.592-.349c-.89 0-1.772.118-2.592.35a1 1 0 0 1-.829-.134c-.753-.507-1.374-.807-1.87-.947c-.143.653-.072 1.194.093 1.607a1 1 0 0 1-.189 1.045c-.597.655-.913 1.458-.913 2.404c0 3.172 1.371 4.328 4.322 4.66c.865.097 1.202 1.177.545 1.748c-.193.168-.43.732-.43 1.364v3.15c0 .985-.834 1.725-1.96 1.528a1 1 0 0 1-.04-1.962v-.99c-.91.061-1.661-.088-2.254-.485"></path></svg> </a> </li><li class="item svelte-4mcfx6"><a href="https://npmjs.com/~simmo" target="_blank" rel="noopener noreferrer" aria-label="NPM" class="withIcon svelte-1ypxhxq"><svg aria-hidden="true" class="icon svelte-1swzgij" role="img" viewBox="0 0 24 24"><path fill="currentColor" d="M20.001 3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-16a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm-3 4h-10v10h5V9.5h2.5V17h2.5z"></path></svg> </a> </li><li class="item svelte-4mcfx6"><a href="http://stackoverflow.com/users/547345/mike" target="_blank" rel="noopener noreferrer" aria-label="StackOverflow" class="withIcon svelte-1ypxhxq"><svg aria-hidden="true" class="icon svelte-1swzgij" role="img" viewBox="0 0 24 24"><path fill="currentColor" d="M18.001 20.003v-5.334h2v7.334h-16v-7.334h2v5.334zM7.6 14.736l.313-1.98l8.837 1.7l-.113 1.586zm1.2-4.532l.732-1.6l7.998 3.733l-.733 1.6zm2.265-3.932l1.133-1.333l6.798 5.665l-1.133 1.333zm4.332-4.132l5.265 7.064l-1.4 1.067l-5.264-7.065zM7.333 18.668v-2h9.33v2z"></path></svg> </a> </li><li class="item svelte-4mcfx6"><a href="https://www.instagram.com/mikesimmonds/" target="_blank" rel="noopener noreferrer" aria-label="Instagram" class="withIcon svelte-1ypxhxq"><svg aria-hidden="true" class="icon svelte-1swzgij" role="img" viewBox="0 0 24 24"><path fill="currentColor" d="M12.001 9a3 3 0 1 0 0 6a3 3 0 0 0 0-6m0-2a5 5 0 1 1 0 10a5 5 0 0 1 0-10m6.5-.25a1.25 1.25 0 0 1-2.5 0a1.25 1.25 0 0 1 2.5 0M12.001 4c-2.474 0-2.878.007-4.029.058c-.784.037-1.31.142-1.798.332a2.886 2.886 0 0 0-1.08.703a2.89 2.89 0 0 0-.704 1.08c-.19.49-.295 1.015-.331 1.798C4.007 9.075 4 9.461 4 12c0 2.475.007 2.878.058 4.029c.037.783.142 1.31.331 1.797c.17.435.37.748.702 1.08c.337.336.65.537 1.08.703c.494.191 1.02.297 1.8.333C9.075 19.994 9.461 20 12 20c2.475 0 2.878-.007 4.029-.058c.782-.037 1.308-.142 1.797-.331a2.91 2.91 0 0 0 1.08-.703c.337-.336.538-.649.704-1.08c.19-.492.296-1.018.332-1.8c.052-1.103.058-1.49.058-4.028c0-2.474-.007-2.878-.058-4.029c-.037-.782-.143-1.31-.332-1.798a2.912 2.912 0 0 0-.703-1.08a2.884 2.884 0 0 0-1.08-.704c-.49-.19-1.016-.295-1.798-.331C14.926 4.006 14.54 4 12 4m0-2c2.717 0 3.056.01 4.123.06c1.064.05 1.79.217 2.427.465c.66.254 1.216.598 1.772 1.153a4.908 4.908 0 0 1 1.153 1.772c.247.637.415 1.363.465 2.428c.047 1.066.06 1.405.06 4.122c0 2.717-.01 3.056-.06 4.122c-.05 1.065-.218 1.79-.465 2.428a4.884 4.884 0 0 1-1.153 1.772a4.915 4.915 0 0 1-1.772 1.153c-.637.247-1.363.415-2.427.465c-1.067.047-1.406.06-4.123.06c-2.717 0-3.056-.01-4.123-.06c-1.064-.05-1.789-.218-2.427-.465a4.89 4.89 0 0 1-1.772-1.153a4.905 4.905 0 0 1-1.153-1.772c-.248-.637-.415-1.363-.465-2.428C2.012 15.056 2 14.717 2 12c0-2.717.01-3.056.06-4.122c.05-1.065.217-1.79.465-2.428a4.88 4.88 0 0 1 1.153-1.772A4.897 4.897 0 0 1 5.45 2.525c.637-.248 1.362-.415 2.427-.465C8.945 2.013 9.284 2 12.001 2"></path></svg> </a> </li><li class="item svelte-4mcfx6"><a href="http://x.com/mikesimmonds" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)" class="withIcon svelte-1ypxhxq"><svg aria-hidden="true" class="icon svelte-1swzgij" role="img" viewBox="0 0 24 24"><path fill="currentColor" d="M18.205 2.25h3.308l-7.227 8.26l8.502 11.24H16.13l-5.214-6.817L4.95 21.75H1.64l7.73-8.835L1.215 2.25H8.04l4.713 6.231zm-1.161 17.52h1.833L7.045 4.126H5.078z"></path></svg> </a> </li><li class="item svelte-4mcfx6"><a href="https://www.threads.net/@mikesimmonds" target="_blank" rel="noopener noreferrer" aria-label="Threads" class="withIcon svelte-1ypxhxq"><svg aria-hidden="true" class="icon svelte-1swzgij" role="img" viewBox="0 0 24 24"><path fill="currentColor" d="M16.705 11.108c-.162-2.987-1.794-4.697-4.534-4.714c-1.652-.01-3.033.69-3.879 1.973L9.8 9.4c.634-.961 1.635-1.16 2.36-1.153c.903.006 1.583.268 2.024.78c.32.372.535.887.642 1.536c-.8-.136-1.666-.178-2.59-.125c-2.606.15-4.28 1.67-4.168 3.781c.057 1.071.59 1.993 1.502 2.595c.77.509 1.764.757 2.795.701c1.363-.075 2.432-.594 3.178-1.545c.566-.722.924-1.658 1.082-2.836c.65.392 1.13.907 1.397 1.527c.452 1.054.478 2.786-.935 4.198c-1.238 1.236-2.726 1.772-4.975 1.788c-2.495-.018-4.382-.819-5.608-2.378c-1.15-1.46-1.743-3.57-1.765-6.269c.022-2.7.616-4.809 1.765-6.27c1.226-1.559 3.113-2.359 5.608-2.377c2.513.019 4.432.822 5.706 2.39c.625.768 1.095 1.734 1.406 2.86l1.766-.47c-.377-1.387-.969-2.582-1.774-3.573c-1.633-2.01-4.033-3.039-7.11-3.06c-3.071.021-5.432 1.055-7.019 3.071c-1.411 1.795-2.14 4.306-2.164 7.436c.024 3.13.753 5.627 2.164 7.422c1.587 2.016 3.96 3.05 7.03 3.071c2.731-.019 4.655-.734 6.24-2.317c2.075-2.073 2.012-4.67 1.329-6.264c-.525-1.225-1.57-2.206-2.98-2.81m-4.438 4.557c-1.142.064-2.328-.448-2.387-1.546c-.043-.814.58-1.722 2.457-1.83a9.389 9.389 0 0 1 2.533.174c-.216 2.702-1.485 3.14-2.603 3.202"></path></svg> </a> </li></ul></div></footer></div> <div id="svelte-announcer" aria-live="assertive" aria-atomic="true" style="position: absolute; left: 0px; top: 0px; clip: rect(0px, 0px, 0px, 0px); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px;"></div></div>
	

<script type="text/javascript" async="" src="./Matrix digital rain - Mike Simmonds_files/in.php"></script></body><grammarly-desktop-integration data-grammarly-shadow-root="true"><template shadowrootmode="open"><style>
      div.grammarly-desktop-integration {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select:none;
        user-select:none;
      }

      div.grammarly-desktop-integration:before {
        content: attr(data-content);
      }
    </style><div aria-label="grammarly-integration" role="group" tabindex="-1" class="grammarly-desktop-integration" data-content="{&quot;mode&quot;:&quot;full&quot;,&quot;isActive&quot;:true,&quot;isUserDisabled&quot;:false}"></div></template></grammarly-desktop-integration></html>